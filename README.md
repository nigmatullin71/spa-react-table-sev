# Задание №5

## Итоги проекта предоставлены по ссылке https://nigmatullin71.github.io/spa-react-table-sev/

## Описание проекта
Это SPA веб-приложение на языке JavaScript с использованием фреймворка React. Приложение отображает таблицу с данными, которые можно сортировать, фильтровать и раскрывать для просмотра дочерних элементов. Таблица поддерживает иерархическую структуру данных, где каждая строка может иметь дочерние элементы, которые можно раскрывать или сворачивать.

## Используемые технологии
- **React**: Используется для создания пользовательского интерфейса и управления состоянием компонентов.
- **Tailwind CSS**: Используется для стилизации компонентов.
- **Vite**: Используется для сборки проекта, обеспечивая быструю разработку.
- **gh-pages**: Используется для деплоя выполненного задания.

## Основные функции
1. **Сортировка**: Таблица поддерживает сортировку по колонкам "Balance" и "Email". При нажатии на заголовок колонки данные сортируются в порядке возрастания или убывания.
2. **Фильтрация**: Можно отфильтровать данные, чтобы отображать только активные записи (свойство `isActive` равно `true`).
3. **Раскрытие строк**: Строки с дочерними элементами можно раскрывать для просмотра дополнительной информации. Это реализовано с помощью рекурсивной функции, которая отображает дочерние элементы для каждой строки.

## Структура кода компонента DataTable
- **InfoTable**: Массив данных, который используется для отображения в таблице. Каждый элемент массива содержит информацию о пользователе, включая его ID, Parent ID, баланс, имя, email и статус активности.
- **DataTable**: Основной компонент, который управляет состоянием таблицы, включая фильтрацию, сортировку и раскрытие строк.
- **useState и useEffect**: Используются для управления состоянием и выполнения побочных эффектов.
- **Tailwind CSS**: Используется для стилизации компонентов, что делает код более читаемым и удобным для поддержки.

## Пояснение к коду

### useState
Используется для управления состоянием данных, фильтрации, сортировки и раскрытия строк.

### useEffect
Используется для загрузки данных и применения фильтров. 

### handleSort
Функция для сортировки данных по выбранной колонке. Если колонка "Balance", данные преобразуются в числа для корректной сортировки. Для строковых значений (например, "Email") используется сравнение в нижнем регистре.

### toggleExpand
Функция для раскрытия/сворачивания строк с дочерними элементами. Она обновляет состояние `expandedRows`, добавляя или удаляя ID строки.

### renderRows
Рекурсивная функция для отображения строк таблицы. Она фильтрует данные по `parentID` и отображает строки с учетом уровня вложенности (`level`). Если у строки есть дочерние элементы, они также отображаются рекурсивно.

## Рекурсивная функция и фильтрация строк по parentID
Рекурсивная функция `renderRows` используется для отображения иерархической структуры данных. Она работает следующим образом:
1. Фильтрует данные по `parentID`, чтобы найти все строки, которые являются дочерними для текущего `parentID`.
2. Для каждой строки проверяет, есть ли у нее дочерние элементы (с помощью `filteredData.some`).
3. Если дочерние элементы есть, отображает кнопку для раскрытия/сворачивания строки.
4. Рекурсивно вызывает себя для отображения дочерних элементов, увеличивая уровень вложенности (`level + 1`).

Фильтрация по `parentID` позволяет корректно отображать иерархию данных, где каждая строка может иметь дочерние элементы.

## Типизация для более понятного кода
Для улучшения читаемости и поддержки кода можно добавить типизацию с помощью TypeScript.

## Другие улучшения
Если таблица предназначена для клиентов, я бы убрал колонки "ID" и "Parent ID", так как они не несут полезной информации для конечных пользователей. Однако, поскольку в задании не было уточнения, для кого делается таблица, эти колонки оставлены в коде.

## Как запустить проект
1. Установите зависимости при помощи команды "npm install"
2. Запустите проект "npm run dev"